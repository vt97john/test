<div><br><button mat-raised-button type="submit" (click)="addPassport()">Add Passport</button><br></div>
<div><br><button mat-raised-button type="submit" (click)="deletePassport()">Delete Passport</button><br><br></div>

<form [formGroup]="bookingForm" (ngSubmit)="bookRoom()">

    <mat-form-field appearance="fill" class="example-full-width" *ngIf="bookingForm.get('passportNumber')">
            <mat-label>Passport Number</mat-label>
            <input matInput formControlName="passportNumber">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Room ID</mat-label>
        <input matInput formControlName="roomId">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Guest Email</mat-label>
        <input matInput formControlName="guestEmail" type="email">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Check-in Date</mat-label>
        <input matInput [matDatepicker]="checkinDatePicker" formControlName="checkinDate">
        <mat-datepicker-toggle matSuffix [for]="checkinDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #checkinDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Check-out Date</mat-label>
        <input matInput [matDatepicker]="checkoutDatePicker" formControlName="checkoutDate">
        <mat-datepicker-toggle matSuffix [for]="checkoutDatePicker"></mat-datepicker-toggle>
        <mat-datepicker #checkoutDatePicker></mat-datepicker>
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Booking Status</mat-label>
        <input matInput formControlName="bookingStatus">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Booking Amount</mat-label>
        <input matInput formControlName="bookingAmount">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Booking Date</mat-label>
        <input matInput formControlName="bookingDate">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Mobile Number</mat-label>
        <input matInput formControlName="mobileNumber">
    </mat-form-field>

    <mat-form-field appearance="fill" class="example-full-width">
        <mat-label>Guest Name</mat-label>
        <input matInput formControlName="guestName">
        <mat-error *ngIf="bookingForm.get('guestName')?.hasError('minlength')">
            Guest Name must be three or more characters  
        </mat-error>
    </mat-form-field>

    <mat-accordion>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Guest Address
                </mat-panel-title>
            </mat-expansion-panel-header>

            <div formGroupName="guestAddress">

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Line 1</mat-label>
                    <input matInput formControlName="lineOne">
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Line 2</mat-label>
                    <input matInput formControlName="lineTwo">
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Guest City</mat-label>
                    <input matInput formControlName="guestCity">
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Guest State</mat-label>
                    <input matInput formControlName="guestState">
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Guest Country</mat-label>
                    <input matInput formControlName="guestCountry">
                </mat-form-field>

                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Guest Zip Code</mat-label>
                    <input matInput formControlName="guestZipCode">
                </mat-form-field>

            </div>

        </mat-expansion-panel>
    </mat-accordion>


    <!-- <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Guest Count</mat-label>
    <input matInput formControlName="guestCount">
  </mat-form-field>

  <mat-form-field appearance="fill" class="example-full-width">
    <mat-label>Guest List</mat-label>
    <input matInput formControlName="guestList">
  </mat-form-field> -->

    <div><br><button mat-raised-button type="submit" (click)="addGuest()">Add Guest</button><br><br></div>

    <div formArrayName="guests">
        <mat-accordion>
            <mat-expansion-panel>
                <mat-expansion-panel-header>
                    <mat-panel-title>
                        Guest List
                    </mat-panel-title>
                </mat-expansion-panel-header>

                <div *ngFor="let guest of guests.controls; let i = index">
                    <div [formGroupName]="i">
                        <mat-form-field appearance="fill" class="example-full-width">
                            <mat-label>Guest Name</mat-label>
                            <input matInput formControlName="guestName">
                        </mat-form-field>

                        <mat-form-field appearance="fill" class="example-full-width">
                            <mat-label>Guest Email</mat-label>
                            <input matInput formControlName="guestAge">
                        </mat-form-field>
                    </div>
                    <div><br><button mat-raised-button type="submit" (click)="removeGuest(i)">Remove Guest</button><br></div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>
    <div><br><mat-checkbox class="example-margin" formControlName="tnc">Terms & Conditions</mat-checkbox><br></div>
    <div><br><button mat-raised-button type="submit" [disabled]="bookingForm.invalid">Book Room</button></div>

</form>